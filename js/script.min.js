var promoSlider=document.querySelector(".promo-slider"),servicesSlider=document.querySelector(".services");if(null!==promoSlider||null!==servicesSlider){var servicesControls=document.querySelector(".services-controls");servicesControls.classList.remove("visually-hidden");var slideIndex=1,promoSlide="promoSlide",servicesItem="servicesItem";function currentSlide(e,a){showSlides(slideIndex=e,a)}function showSlides(e,a){var t,o;o="promoSlide"==a?(t=document.getElementsByClassName("promo-slide"),document.getElementsByClassName("promo-slider-control")):(t=document.getElementsByClassName("services-item"),document.getElementsByClassName("services-control"));for(var l=0;l<t.length;l++)t[l].classList.add("visually-hidden"),o[l].classList.remove("active");t[slideIndex-1].classList.remove("visually-hidden"),o[slideIndex-1].classList.add("active")}showSlides(slideIndex,promoSlide),showSlides(slideIndex,servicesItem)}var feedbackBtn=document.querySelector(".feedback-btn"),mapOverlay=document.querySelector(".map-overlay");if(null!==feedbackBtn||null!==mapOverlay){var nameStorage,emailStorage,modalFeedbackCloseBtn=document.querySelector(".modal-feedback-btn-close"),modalMapCloseBtn=document.querySelector(".modal-map-btn-close"),modalFeedback=document.querySelector(".modal-feedback"),feedbackForm=modalFeedback.querySelector("form"),nameInput=modalFeedback.querySelector("[name=name]"),emailInput=modalFeedback.querySelector("[name=email]"),textInput=modalFeedback.querySelector("[name=mailtext]"),modalMap=document.querySelector(".modal-map"),modalOverlay=document.querySelector(".modal-overlay"),isStorageSupport=!0;try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}isStorageSupport&&(nameStorage=localStorage.getItem("name"),emailStorage=localStorage.getItem("email")),feedbackBtn.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("modal-show"),modalOverlay.classList.add("modal-overlay-show"),nameInput.focus(),nameStorage&&(nameInput.value=nameStorage,emailInput.focus()),emailStorage&&(emailInput.value=emailStorage,textInput.focus())}),mapOverlay.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show"),modalOverlay.classList.add("modal-overlay-show")}),modalOverlay.addEventListener("click",function(e){modalOverlay.classList.remove("modal-overlay-show"),modalFeedback.classList.remove("modal-show"),modalFeedback.classList.remove("modal-feedback-error"),modalMap.classList.remove("modal-show")}),modalFeedbackCloseBtn.addEventListener("click",function(e){modalOverlay.classList.remove("modal-overlay-show"),modalFeedback.classList.remove("modal-show")}),modalMapCloseBtn.addEventListener("click",function(e){modalOverlay.classList.remove("modal-overlay-show"),modalMap.classList.remove("modal-show")}),nameInput.removeAttribute("required"),emailInput.removeAttribute("required"),textInput.removeAttribute("required"),feedbackForm.addEventListener("submit",function(e){nameInput.value&&emailInput.value&&textInput.value?isStorageSupport&&(localStorage.setItem("name",nameInput.value),localStorage.setItem("email",emailInput.value)):(e.preventDefault(),nameInput.classList.remove("modal-feedback-input-err"),emailInput.classList.remove("modal-feedback-input-err"),textInput.classList.remove("modal-feedback-input-err"),modalFeedback.classList.remove("modal-feedback-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-feedback-error"),nameInput.value||nameInput.classList.add("modal-feedback-input-err"),emailInput.value||emailInput.classList.add("modal-feedback-input-err"),textInput.value||textInput.classList.add("modal-feedback-input-err"))}),textInput.addEventListener("focus",function(e){textInput.classList.remove("modal-feedback-input-err")}),emailInput.addEventListener("focus",function(e){emailInput.classList.remove("modal-feedback-input-err")}),textInput.addEventListener("focus",function(e){textInput.classList.remove("modal-feedback-input-err")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalFeedback.classList.contains("modal-show")||modalMap.classList.contains("modal-show"))&&(e.preventDefault(),modalFeedback.classList.remove("modal-show"),modalFeedback.classList.remove("modal-feedback-error"),modalMap.classList.remove("modal-show"),modalOverlay.classList.remove("modal-overlay-show"))})}var searchForm=document.querySelector(".search-form"),searchInput=document.querySelector(".search-form input"),searchSubmit=document.querySelector(".search-form button");searchInput.addEventListener("focus",function(e){searchSubmit.classList.remove("visually-hidden")}),searchInput.addEventListener("blur",function(e){searchSubmit.classList.add("visually-hidden")}),searchSubmit.addEventListener("focus",function(e){searchSubmit.classList.remove("visually-hidden")}),searchSubmit.addEventListener("blur",function(e){searchSubmit.classList.add("visually-hidden")});var catalogLink=document.querySelector(".main-nav-catalog-link"),dropdown=document.querySelector(".main-nav-categories-list"),test=document.querySelector(".list-item-catalog");catalogLink.addEventListener("mouseenter",function(e){dropdown.classList.remove("visually-hidden")}),catalogLink.addEventListener("focus",function(e){dropdown.classList.remove("visually-hidden")}),test.addEventListener("mouseleave",function(e){dropdown.classList.add("visually-hidden")});